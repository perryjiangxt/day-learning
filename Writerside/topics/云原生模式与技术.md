# 云原生模式与技术

![image_6.png](image_6.png)

## 云原生应用开发原则

- 一份基准代码，一份应用。
  - 作为库的时候，会以依赖的形式包含到应用中。
  - 作为服务的时候，会以独立模式运行，担当其它服务的应用支撑。
- API优先
  - 在编写任何代码之前，优先设计和编写API。
  - 大部分数据都可以通过API读写。
  - 客户和合作伙伴都可以方便地使用您的API。
  - 有有效的方法和工具来组织和发现您的API。
  - 遵循一套标准化的流程来构建和管理API。
  - <a href="https://www.apiseven.com/blog/api-first-company">参考</a>
- 依赖管理
- 设计、构建、发布、运行
  - 确定应用所需的技术、依赖和工具。
  - 构建制品必须有唯一id。
- 配置、凭证和代码
  - 配置外部化
  - 配置实践中可以单独存储在单独的仓库中
- 日志
  - 将日志视为按时间顺序发布的事件。
  - 外部工具负责获取、收集日志。
- 易处理
  - 支持应用节点在任意时间启动或停止，这就叫易处理。
  - 应用需要支持快速启动，
  - 优雅关闭（完成正在处理中的请求，停止接收新的请求。）。
- 支撑服务
  - 为了交付其功能所使用的外部资源。
  - 包括数据库、消息代理、缓存系统、SMTP 服务器、FTP 服务器或 RESTFUL WEB服务。
- 环境对等
  - 保持所有环境尽可能相同。
- 管理进程
  - 不属于业务流程的一部分，而是为了管理和运维的需要。类似导出报表、查询数据等。
  - 应该创建独立的应用来完成。
- 端口绑定
  - 应用包含服务器
- 无状态进程
  - 开了一个应用实例被销毁并重新创建，是否会丢失数据。
  - 将状态管理和存储相关的事情交给支撑服务实现。
- 并发
- 遥测
  - 每个系统都应该提供数据来远程监控系统的行为
  - 数据包括日志、度量指标、跟踪、健康状态和事件
- 认证和授权
  - 在架构和基础设施层面保护系统内的所有交互。